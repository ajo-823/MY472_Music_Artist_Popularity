# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- ranking_element$getElementText()
}, error = function(e) {
NA
})
ranking_text
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
ranking_text
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
ranking
artists
essays[:5]
essays[,5]
essays[[,5]]
essays[[5]]
essays[[10]]
essays[[1]]
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list_selector <- '/html/body/div[5]/header/div[2]/div/div/div/div/aside/div/div[2]/a[7]'
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
# Setup driver
rD <- rsDriver(browser = c("firefox"), port = free_port(random = TRUE), chromever = NULL)
driver <- rD$client
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
full_list_selector <- '/html/body/div[5]/header/div[2]/div/div/div/div/aside/div/div[2]/a[7]'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
full_list_selector <- '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a'
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
# Setup driver
rD <- rsDriver(browser = c("firefox"), port = free_port(random = TRUE), chromever = NULL)
driver <- rD$client
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
full_list_selector <- '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
View(essays)
View(artists_element)
# Imports
library(tidyverse)
library(RSelenium)
library(netstat)
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
full_list_selector <- '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
# Setup driver
rD <- rsDriver(browser = c("firefox"), port = free_port(random = TRUE), chromever = NULL)
driver <- rD$client
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
full_list_selector <- '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
# Navigate to url
driver$navigate(url)
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
Sys.sleep(5)
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
# Navigate to url
driver$navigate(url)
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
Sys.sleep(5)
ranking <- tryCatch({
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_text <- sapply(ranking_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
artists <- tryCatch({
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_text <- sapply(artists_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
essays <- tryCatch({
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_text <- sapply(essays_element, function(element) element$getElementText())
}, error = function(e) {
NA
})
# Setup driver
rD <- rsDriver(browser = c("firefox"), port = free_port(random = TRUE), chromever = NULL)
driver <- rD$client
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
full_list_selector <- '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_bot <- sapply(ranking_element, function(element) element$getElementText())
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_bot <- sapply(artists_element, function(element) element$getElementText())
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_bot <- sapply(essays_element, function(element) element$getElementText())
# Load full page
full_list <- driver$findElement(using = "xpath", value = full_list_selector)
full_list$clickElement()
# Get information for second 50 artists (#50-1)
ranking_element <- driver$findElements(using = "xpath", value = ranking_selector)
ranking_top <- sapply(ranking_element, function(element) element$getElementText())
artists_element <- driver$findElements(using = "xpath", value = artist_selector)
artists_top <- sapply(artists_element, function(element) element$getElementText())
essays_element <- driver$findElements(using = "xpath", value = essay_selector)
essays_top <- sapply(essays_element, function(element) element$getElementText())
# Combine info for first and second 50 (for total of 100)
ranking <- append(ranking_bot, ranking_top)
artists <- append(artists_bot, artists_top)
essays <- append(essays_bot, essays_top)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
top100_table <- data.frame(c(Rank = ranking, Artist = artists, Essay = essays))
head(top100_table)
top100_table <- data.frame(columns=c(Rank = ranking, Artist = artists, Essay = essays))
head(top100_table)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
View(ranking)
View(ranking)
View(artists)
View(artists)
View(essays)
View(essays)
top100_table <- data.frame(Rank = ranking)
head(top100_table)
ranking <- paste(ranking_first, ranking_second, sep = "\n")
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
# Function to get list of elements given a selector
get_RStop100_element <- function(selector) {
elements <- driver$findElements(using = "xpath", value = selector)
selected_items <- sapply(elements, function(element) element$getElementText())
return(selected_items)
}
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
full_list$clickElement()
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- paste(ranking_first, ranking_second, sep = "\n")
artists <- paste(artists_first, artists_second, sep = "\n")
essays <- paste(essays_first, essays_second, sep = "\n")
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
# Combine info for first and second 50 (for total of 100)
ranking <- paste(ranking_first, ranking_second, sep = "")
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
View(top100_table)
View(top100_table)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
full_list$clickElement()
Sys.sleep(5)
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- paste(ranking_first, ranking_second, sep = "\n")
artists <- paste(artists_first, artists_second, sep = "\n")
essays <- paste(essays_first, essays_second, sep = "\n")
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
full_list$clickElement()
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
ranking <- paste(ranking_first, ranking_second, sep = "\n")
artists <- paste(artists_first, artists_second, sep = "\n")
essays <- paste(essays_first, essays_second, sep = "\n")
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top
head(top100_table)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
ranking <- c(ranking_first, ranking_second)
artists <- c(artists_first, artists_second)
essays <- c(essays_first, essays_second)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top10
head(top100_table)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
View(essays_top)
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
full_list$clickElement()
Sys.sleep(5)
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- c(ranking_first, ranking_second)
artists <- c(artists_first, artists_second)
essays <- c(essays_first, essays_second)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
Sys.sleep(2)
full_list$clickElement()
Sys.sleep(5)
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- c(ranking_first, ranking_second)
artists <- c(artists_first, artists_second)
essays <- c(essays_first, essays_second)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
Sys.sleep(2)
full_list$clickElement()
Sys.sleep(5)
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- c(ranking_first, ranking_second)
artists <- c(artists_first, artists_second)
essays <- c(essays_first, essays_second)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
full_list$clickElement()
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
full_list$clickElement()
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
full_list$clickElement()
full_list$clickElement()
driver$executeScript("arguments[0].scrollIntoView();", list(full_list))
driver$executeScript("arguments[0].scrollIntoView(false);", list(full_list))
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(false);", list(full_list))
full_list$clickElement()
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(false);", list(full_list))
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
full_list$clickElement()
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
full_list <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
driver$executeScript("arguments[0].scrollIntoView(true);", list(full_list))
second_half <- driver$findElement(using = 'xpath', value = '/html/body/div[5]/header/div[2]/div/div/div/div/aside/div/div[2]/a[6]')
second_half$clickElement()
# Combine info for first and second 50 (for total of 100)
ranking <- c(ranking_first, ranking_second)
View(ranking)
View(ranking)
# Function to get list of elements given a selector
get_RStop100_element <- function(selector) {
elements <- driver$findElements(using = "xpath", value = selector)
selected_items <- sapply(elements, function(element) element$getElementText())
return(unlist(selected_items))
}
# Setup driver
rD <- rsDriver(browser = c("firefox"), port = free_port(random = TRUE), chromever = NULL)
driver <- rD$client
# XPATH selectors
ranking_selector <- '//*[@class="c-gallery-vertical-album__number"]'
artist_selector <- '//*[@class="c-gallery-vertical-album__title"]'
essay_selector <- '//*[@class="c-gallery-vertical-album__description"]'
url <- 'https://www.rollingstone.com/music/music-lists/100-greatest-artists-147446/'
# Navigate to url
driver$navigate(url)
# Get information for first 50 artists (#100-51)
ranking_first <- get_RStop100_element(ranking_selector)
artists_first <- get_RStop100_element(artist_selector)
essays_first <- get_RStop100_element(essay_selector)
# Load full page
to_scroll <- driver$findElement(using = "xpath", value = '/html/body/div[5]/main/div[2]/div[1]/div/article/div[3]/div[2]/div[2]/a')
driver$executeScript("arguments[0].scrollIntoView(true);", list(to_scroll))
second_half <- driver$findElement(using = 'xpath', value = '/html/body/div[5]/header/div[2]/div/div/div/div/aside/div/div[2]/a[6]')
second_half$clickElement()
# Get information for second 50 artists (#50-1)
ranking_second <- get_RStop100_element(ranking_selector)
artists_second <- get_RStop100_element(artist_selector)
essays_second <- get_RStop100_element(essay_selector)
# Combine info for first and second 50 (for total of 100)
ranking <- c(ranking_first, ranking_second)
artists <- c(artists_first, artists_second)
essays <- c(essays_first, essays_second)
top100_table <- data.frame(Rank = ranking, Artist = artists, Essay = essays)
head(top100_table)
View(top100_table)
View(top100_table)
